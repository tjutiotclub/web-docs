# STM32 系列教学
## 总述

在完成 C 语言基础之后，你已经具备了使用计算机语言描述逻辑、组织程序结构的能力。
但此时的程序，仍然运行在“抽象世界”中——它不感知时间，不感知物理世界，也不会与真实硬件交互。

嵌入式系统的学习，正是从这里开始。

STM32 并不是“更高级的 C 语言”，而是**程序第一次真正运行在物理世界中的载体**。
你的代码，将开始直接影响引脚电平、采样电压、驱动电机、响应中断，并在真实时间轴上持续运行。

---
## 什么是 STM32

STM32 是 ST（意法半导体）推出的一系列基于 ARM Cortex-M 内核的 32 位微控制器。
它将处理器、存储器、时钟系统以及大量外设，集成在一颗芯片中，用于构建各种嵌入式设备。

与通用计算机不同，STM32 运行的是**单一、长期运行的程序**，没有操作系统（或仅有轻量 RTOS），
它关注的是确定性、实时性以及对硬件资源的精确控制。

---
## 为什么从 STM32 开始学习嵌入式

在众多嵌入式平台中，STM32 非常适合作为入门起点，原因并不复杂：

* 架构清晰，外设丰富，几乎涵盖常见嵌入式应用需求
* 工业界、竞赛、教学中应用广泛，资料充足
* 既能接触到底层硬件，又不至于陷入过度复杂的体系
* 可从“点灯”一路扩展到完整系统设计

更重要的是，STM32 所建立的思维方式，可以自然迁移到其他 MCU、SoC 甚至更复杂的平台。

学习 STM32，本质上不是在“学一块芯片”，
而是在学习**嵌入式系统如何被构建、组织和运行**。

---
## STM32 可以用来做什么

STM32 并不局限于某一种具体产品，它常见于：

* 各类传感器采集与控制系统
* 电机驱动与运动控制
* 智能车、机器人、无人系统
* 工业控制与仪器仪表
* 物联网终端与边缘设备

这些应用看似不同，但底层能力高度一致：
**采样、判断、控制、通信、长期稳定运行**。

这正是本系列教程关注的核心。

---
## 学习方式与使用说明

为降低初学阶段的学习成本，本系列文档**从 CubeMX 创建工程开始讲起**。
 我们默认读者使用 CubeMX 进行外设配置，并基于 HAL 库完成后续开发。

这样做的目的不是回避底层，而是避免在入门阶段被工具细节和配置负担淹没。
 在此基础上，我们会逐步解释配置背后的含义，使你清楚自己“点下去的每一步”究竟做了什么。

需要特别说明的是：

- 本文档**不提供软件安装与环境搭建的详细教程**
- 不包含 IDE 下载、驱动安装、路径配置等步骤说明

我们默认并相信：
 作为一名大学生，你已经具备完成常规软件安装的能力，也具备基本的信息检索与问题解决意识。

这并不是提高门槛，而是明确分工——
 文档关注的是**嵌入式系统本身**，而不是操作系统层面的通用问题。

当你遇到安装或环境相关困难时，学会查阅官方文档、搜索错误信息，本身就是工程能力的一部分。

------

## 关于工具与版本

在不影响理解的前提下，文档尽量避免依赖特定 IDE 或操作系统。
 只要工具链符合 STM32 官方推荐，示例与思路应具有一致性。

工具会变化，但系统思维不会。

---
## 关于芯片型号的选择

本系列教程统一以 **STM32F103C8T6** 作为示例芯片进行讲解，原因包括：

- 芯片通用性强，应用广泛
- 成本低，硬件获取压力小
- 资料极其完善，学习路径成熟
- 在 CubeMX 框架下，STM32 各系列 MCU 的外设配置思路高度一致

因此，即使你后续使用的是其他 STM32 系列芯片，本系列中涉及的**配置流程与系统思路仍然具有参考价值**。

------

## 关于示例代码风格

文档中的示例代码主要用于说明原理与结构，其代码风格与组织方式：

- 仅代表作者个人的编程习惯
- 不代表唯一写法
- 也不等同于性能或工程上的最优解

在实际工程中，代码风格应根据项目规模、团队规范与维护需求进行调整。
 本系列更关注的是**为什么这样组织程序是合理的**，而不是追求某一种“标准答案”。

---

## 学习路线规划

本 STM32 系列按照“从系统基础到常用外设”的顺序展开，整体路线如下：

1. **时钟树与 AMBA 总线（可跳过）**
   介绍 STM32 的基本总线结构与外设挂载方式，帮助理解外设使能与时钟来源
   本部分为理解性内容，不影响后续学习

2. **GPIO 基本用法**
   STM32 与外部世界交互的起点
   数字输入、输出、复用功能的基本概念

3. **外部中断与 NVIC**
   事件驱动程序的基础
   理解中断响应、优先级与程序执行流的变化

4. **ADC 模数转换**
   让程序“感知模拟世界”
   电压采样、规则通道、数据获取方式

5. **定时器基础用法**

   * 定时中断
   * PWM 输出
   * 编码器模式
     时间，是嵌入式系统中最重要的资源之一

6. **I2C 通信原理与基本使用**
   总线时序、主从关系、常见外设连接方式

7. **SPI 通信原理与基本使用**
   高速同步通信接口，常见于显示屏、传感器与存储器

完成以上内容后，你已经具备了应对绝大多数基础嵌入式项目的能力。

后续内容（如状态机设计、PID 控制、系统结构优化等），将更多回到 C 语言与程序设计本身，而不再依赖特定芯片。

---
## 阶段性目标与实践落点

完成 STM32 基础外设的学习后，你已经具备了构建一个完整嵌入式系统的基本能力。
GPIO、定时器、中断、ADC 以及基础通信，并不是零散的知识点，而是可以被组合、协同工作的系统部件。

在这一阶段，你所掌握的内容，已经足以支持一个经典而完整的工程实践——
**红外开环循迹小车**。

在学院楼东门，我们铺设有红外循迹小车的实体赛道。
当你学到这里，已经拥有了独立完成一个循迹小车的理论基础：
从传感器采样，到执行机构控制，从程序结构组织，到系统稳定运行。

是否将理论真正落为实践，取决于你自己的选择。
如果你愿意验证、调试、试错，欢迎走进实验室，将代码跑在真实世界中。

门已经打开，接下来的道路，各不相同。
```{toctree}
:maxdepth: 1

gpio
tim
i2c
spi
usart
adc

```
